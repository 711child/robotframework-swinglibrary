*Setting*	*Value*	*Value*
library	SwingLibrary

*Variable*	*Value*	*Value*
${menuRoot}	Test Menu
${dialogMenu}	${menuRoot}|Show Test Dialog
${dialogMenu2}	${menuRoot}|Show Non-Modal Dialog
${dialogTitle}	Message
${dialogTitle2}	Non-modal Dialog

*Test Case*	*Action*	*Argument*
Select Dialog
	[setup]	openTestDialog
	selectDialog	${dialogTitle}
	${context}=	getCurrentContextSourceAsString
	contains	${context}	Dialog
	[teardown]	closeTestDialog

Select Dialog Using RegExp	
	[setup]	openTestDialog
	selectDialog	regexp=M.s{2}a.*
	${context}=	getCurrentContextSourceAsString
	contains	${context}	Dialog
	[teardown]	closeTestDialog
	
Select Dialog Using RegExp Without Prefix Should Fail	
	[setup]	openTestDialog
	selectDialog	regexp=M.s{2}a.*
	${context}=	getCurrentContextSourceAsString
	contains	${context}	Dialog
	select main window
	run keyword and expect error	Dialog with title "M.s{2}a.*	selectDialog	M.s{2}a.*
	[teardown]	closeTestDialog

Close Dialog
	[setup]	openTestDialog
	closeTestDialog
	dialogShouldNotBeOpen	${dialogTitle}

Dialog Should Not Be Open
	dialogShouldNotBeOpen	Non existent Dialog

Dialog Should Not Be Open Fails If Dialog Is Open
	[setup]	openTestDialog
	runKeywordAndExpectError	*Dialog '${dialogTitle}' is open*	dialogShouldNotBeOpen	${dialogTitle}
	[teardown]	closeTestDialog

Dialog Should Be Open
	[setup]	openTestDialog
	dialogShouldBeOpen	${dialogTitle}
	[teardown]	closeTestDialog

Dialog Should Be Open Fails If Dialog Is Not Open
	runKeywordAndExpectError	*Dialog '${dialogTitle}' is not open*	dialogShouldBeOpen	${dialogTitle}

Close All Dialogs When No Dialogs Open
	closeAllDialogs

Close All Dialogs When One Non-Modal, DO_NOTHING_ON_CLOSE Dialog Open
	[setup]	openNonModalTestDialog
	closeAllDialogs
	nonModalTestDialogShouldBeClosed	

Close All Dialogs When One Modal Dialog Open
	[setup]	openTestDialog
	closeAllDialogs
	testDialogShouldBeClosed

Close All Dialogs When Two Dialogs Open
	[setup]	openNonModalTestDialog
	openTestDialog
	closeAllDialogs
	testDialogShouldBeClosed
	nonModalTestDialogShouldBeClosed	

*Keyword*	*Action*	*Argument*	*Argument*
openTestDialog
	selectFromMainMenu	${dialogMenu}
	dialogShouldBeOpen	${dialogTitle}

openNonModalTestDialog
	selectFromMainMenu	${dialogMenu2}
	dialogShouldBeOpen	${dialogTitle2}

testDialogShouldBeClosed
	dialogShouldNotBeOpen	${dialogTitle}

nonModalTestDialogShouldBeClosed
	dialogShouldNotBeOpen	${dialogTitle2}

closeTestDialog
	closeDialog	${dialogTitle}
